(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5580:function(e,t,n){Promise.resolve().then(n.bind(n,3456))},3456:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return en}});var i,s,a,l,o,r,c=n(3827),d=n(7270);n(6146);var u=n(1774),p=n(9583),m=n.n(p);function x(e){let{id:t,initialViewState:n,interactiveLayerIds:i,onClick:s,onMouseEnter:a,onMouseLeave:l,onLoad:o,cursor:r,children:p}=e,{resolvedTheme:x}=(0,u.F)();return(0,c.jsx)("div",{className:m().map,children:(0,c.jsxs)(d.ZP,{id:t,interactiveLayerIds:i,initialViewState:n,onClick:s,dragRotate:!0,onMouseEnter:a,onMouseLeave:l,cursor:r,onMove:e=>console.log(e.viewState),mapStyle:"https://api.maptiler.com/maps/e9d3c77d-4552-4ed6-83dd-1075b67bd977/style.json?key=NvTfdJJxC0xa6dknGF48",attributionControl:!1,onLoad:o,children:[p,(0,c.jsx)(d.zB,{compact:!0,position:"bottom-left"})]})})}var h=n(7809),g=n(4090),f=n(8245),v=n(949),y=n(2064),j=n(7043),_=n(5366),b=n(1654),N=n(6288),C=n(7712),w=n.n(C);function S(e){let{text:t,color:n="gray",children:i,wrapping:s=!1}=e;return(0,c.jsx)("div",{className:s?w().wrappingPill:w().pill,id:w()[n],children:t||i})}(i=l||(l={})).gray="gray",i.blue="blue",i.purple="purple",i.subtlePurple="subtlePurple",i.yellow="yellow",i.green="green",i.subtleGreen="subtleGreen",i.red="red";var E=n(3860),D=n.n(E);function k(){return(0,c.jsx)("div",{className:D().bar,children:(0,c.jsx)("div",{className:D().capsule})})}var P=n(6286),z=n.n(P);function T(e){let{children:t,style:n}=e;return(0,c.jsx)("div",{style:n,className:z().centered,children:t})}var L=n(9840),I=n.n(L);function A(e){let{children:t,fade:n}=e;return(0,c.jsx)("div",{className:I()[n],children:t})}(s=o||(o={})).in="fadeIn",s.out="fadeOut",s.none="none";var F={i8:"0.2.2"},O=n(8071),W=n.n(O);function M(e){let{children:t,style:n,onClick:i}=e;return(0,c.jsx)("div",{className:W().topBarButton,style:n,onClick:i,children:t})}(a=r||(r={})).NotStarted="NOT_STARTED",a.InTransit="IN_TRANSIT",a.NearNext="NEAR_NEXT",a.AtOrigin="AT_ORIGIN",a.AtStation="AT_STATION",a.Completed="COMPLETED",a.Cancelled="CANCELLED";var G=n(6618),R=n(1367),Z=n(3290),B=n(9082),J=n(5124),V=n(2226),q=n(176);function X(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=q.default.t.bind(q.default),i=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;if(!t){let e="";return i>0&&(e+="".concat(i,"h")),s>0&&(e+="".concat(s,"m")),(a>0||""===e)&&(e+="".concat(a,"s")),e}let l=[];return(i>0&&l.push("".concat(i," ").concat(n(1===i?"time.hour":"time.hours"))),s>0&&l.push("".concat(s," ").concat(n(1===s?"time.minute":"time.minutes"))),(a>0||0===l.length)&&l.push("".concat(a," ").concat(n(1===a?"time.second":"time.seconds"))),1===l.length)?l[0]:l.slice(0,-1).join(", ")+" "+n("time.and")+" "+l.slice(-1)}function Y(e){return 6===e.length&&e.startsWith("592")?"".concat(e.slice(0,3),"-").concat(e.slice(3)):e}var K=n(2535),Q=n(4232);if("undefined"!=typeof document){let e=document.createElement("style");e.textContent="\n  @keyframes slide-in-from-top {\n    from {\n      opacity: 0;\n      transform: translateY(-10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  \n  @keyframes fade-in {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  \n  .animate-in {\n    animation-fill-mode: both;\n  }\n  \n  .slide-in-from-top-2 {\n    animation-name: slide-in-from-top;\n  }\n  \n  .fade-in {\n    animation-name: fade-in;\n  }\n",document.head.appendChild(e)}let H=e=>{let{isOpen:t,onClose:n,vehicles:i=[],onVehicleSelect:s}=e,{t:a,ready:l}=(0,K.$G)(),[o,r]=(0,g.useState)(""),[d,u]=(0,g.useState)([]),p=(0,g.useRef)(null);(0,g.useEffect)(()=>{t&&p.current&&setTimeout(()=>{var e;null===(e=p.current)||void 0===e||e.focus()},100)},[t]),(0,g.useEffect)(()=>{if(""===o.trim()){u([]);return}u(i.filter(e=>{var t,n,i,s,a,l,r,c;let d=o.toLowerCase();return"CANCELLED"!==e.status&&((null===(t=e.trainNumber)||void 0===t?void 0:t.toString().toLowerCase().includes(d))||(null===(i=e.service)||void 0===i?void 0:null===(n=i.designation)||void 0===n?void 0:n.toLowerCase().includes(d))||(null===(a=e.origin)||void 0===a?void 0:null===(s=a.designation)||void 0===s?void 0:s.toLowerCase().includes(d))||(null===(r=e.destination)||void 0===r?void 0:null===(l=r.designation)||void 0===l?void 0:l.toLowerCase().includes(d))||(null===(c=e.units)||void 0===c?void 0:c.includes(d)))}).slice(0,8))},[o,i]);let m=()=>{r(""),u([]),n()},x=e=>{s&&s(e),m()};return l?(0,c.jsxs)("div",{className:"fixed inset-0 z-50 transition-all duration-[400ms] ease-out ".concat(t?"visible":"invisible"),onClick:e=>{e.target===e.currentTarget&&m()},children:[(0,c.jsx)("div",{className:"absolute inset-0 transition-all duration-[400ms] ease-out ".concat(t?"backdrop-blur-md bg-black/20":"backdrop-blur-none bg-transparent"),style:{backdropFilter:t?"blur(8px)":"blur(0px)"}}),(0,c.jsxs)("div",{className:"relative z-10 h-full transition-all duration-[400ms] ease-out ".concat(t?"translate-y-0 opacity-100":"-translate-y-8 opacity-0"),children:[(0,c.jsx)("div",{className:"p-4 pt-6",children:(0,c.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,c.jsx)("div",{className:"relative bg-[#1c1c1c] rounded-xl shadow-2xl border-2 border-[#16341b]",children:(0,c.jsxs)("div",{className:"flex items-center p-3",children:[(0,c.jsx)(y.Y,{size:24,className:"text-gray-400 mr-3 flex-shrink-0"}),(0,c.jsx)("input",{ref:p,type:"text",value:o,onChange:e=>r(e.target.value),onKeyDown:e=>{"Escape"===e.key&&m(),"Enter"===e.key&&d.length>0&&(e.preventDefault(),e.stopPropagation(),x(d[0]))},placeholder:a("search.field_placeholder"),className:"flex-1 text-lg bg-transparent border-none outline-none text-gray-100 placeholder-gray-500"}),(0,c.jsx)("button",{onClick:m,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors ml-2 flex-shrink-0",children:(0,c.jsx)(G.X,{size:20,className:"text-gray-500"})})]})})})}),d.length>0&&(0,c.jsx)("div",{className:"px-4 pb-4 overflow-scroll h-[calc(100vh-120px)]",children:(0,c.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,c.jsx)("div",{className:"space-y-3 mt-4",children:d.map((e,t)=>{var n;return(0,c.jsx)("div",{onClick:()=>x(e),className:"bg-[#1e1e1e] backdrop-blur-sm rounded-2xl p-4 cursor-pointer \n                              hover:bg-[#2e2e2e] dark:hover:bg-gray-800 hover:shadow-lg \n                               transition-all duration-200 hover:scale-[1.02]\n                              animate-in slide-in-from-top-2 fade-in",style:{animationDelay:"".concat(50*t,"ms"),animationDuration:"300ms",animationFillMode:"both"},children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("div",{className:"p-2 rounded-full ".concat("CANCELLED"===e.status?"bg-red-900/30":"COMPLETED"===e.status?"bg-gray-700":"bg-green-900/30"),children:(0,c.jsx)(R.v,{size:20,className:"".concat("CANCELLED"===e.status?"text-red-400":"COMPLETED"===e.status?"text-gray-400":"text-green-400")})}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("h3",{className:"font-bold text-gray-100 text-lg",children:e.trainNumber}),(0,c.jsx)("p",{className:"ml-auto text-xs text-gray-400",children:e.units&&e.units.map(e=>Y(e)).join(" + ")}),(null===(n=e.service)||void 0===n?void 0:n.designation)&&(0,c.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-green-300 bg-green-900/30 rounded-full",children:e.service.designation})]}),e.origin&&e.origin.designation&&e.destination&&e.destination.designation&&(0,c.jsxs)("p",{className:"text-sm text-gray-400 mt-1 flex items-center gap-2",children:[e.origin.designation,(0,c.jsx)(b.o,{size:15,weight:"bold"}),e.destination.designation]}),(0,c.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[0===e.delay&&(0,c.jsx)("span",{className:"text-xs font-medium text-green-400",children:a("vehicle_popup.schedule_adherence.on_time")}),e.delay>0&&(0,c.jsx)("span",{className:"text-xs font-medium text-red-400",children:a("vehicle_popup.schedule_adherence.late",{formattedDuration:X(e.delay,!0)})}),e.delay<0&&(0,c.jsx)("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:a("vehicle_popup.schedule_adherence.early",{formattedDuration:X(Math.abs(e.delay),!0)})}),!!e.occupancy&&e.occupancy<=65&&(0,c.jsx)(Z.n,{size:15,weight:"bold",className:"text-green-500"}),!!e.occupancy&&e.occupancy>65&&e.occupancy<=85&&(0,c.jsx)(B.Q,{size:15,weight:"bold",className:"text-yellow-500"}),!!e.occupancy&&e.occupancy>85&&(0,c.jsx)(J.W,{size:15,weight:"bold",className:"text-red-500"})]})]})]}),(0,c.jsx)(V.T,{size:20,className:"text-gray-500 flex-shrink-0"})]})},e.trainNumber)})})})}),!o&&(0,c.jsx)("div",{className:"px-4 pt-16",children:(0,c.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[(0,c.jsx)("div",{className:"flex justify-center mb-6",children:(0,c.jsx)(R.v,{size:48,className:"text-gray-400"})}),(0,c.jsx)("h3",{className:"text-xl font-medium text-gray-300 mb-3",children:a("search.title")}),(0,c.jsx)("p",{className:"text-gray-500 text-base max-w-sm mx-auto leading-relaxed",children:a("search.prompt")})]})}),o&&0===d.length&&(0,c.jsx)("div",{className:"px-4",children:(0,c.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,c.jsx)("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-2xl p-8 text-center  border border-gray-200/50 dark:border-gray-700/50 mt-4",children:(0,c.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:['Nenhum resultado encontrado para "',o,'"']})})})})]})]}):null};var U=(0,Q.default)(()=>Promise.resolve(H),{ssr:!1}),$=n(7996);let ee=e=>fetch(e).then(e=>e.json());function et(){var e;let{t,i18n:n}=(0,K.$G)(),{data:i}=(0,h.ZP)("/api/version",ee,{refreshInterval:3e4});(0,g.useEffect)(()=>{i&&i.version!==F.i8&&window.location.reload()},[i]);let{theme:s,resolvedTheme:a,setTheme:p}=(0,u.F)(),[m,C]=(0,g.useState)(null),[w,E]=(0,g.useState)(!0),[D,P]=(0,g.useState)(null),[z,L]=(0,g.useState)("auto"),[I,O]=(0,g.useState)(!0),[W,G]=(0,g.useState)(!1),[R,Z]=(0,g.useState)(!1),[B,J]=(0,g.useState)(!1),V=(0,g.useCallback)(()=>L("pointer"),[]),q=(0,g.useCallback)(()=>L("auto"),[]),{map:Q}=(0,d.Sx)();(0,g.useEffect)(()=>{Q&&(Q.loadImage("arrow.png").then(e=>Q.addImage("arrow",e.data,{sdf:!0})),Q.loadImage("cp_vehicle_oriented_w_inv.png").then(e=>Q.addImage("bus",e.data)))},[Q]);let[H,et]=(0,g.useState)(null);(0,g.useRef)(H),(0,g.useRef)(W);let en=(0,g.useRef)(I),ei=e=>{en.current=e,O(e)},es=(0,g.useRef)(m),ea=e=>{es.current=e,C(e)},{data:el}=(0,h.ZP)("/api/vehicles",ee,{refreshInterval:5e3}),{data:eo}=(0,h.ZP)("/api/stations",ee,{refreshInterval:24e4}),{data:er}=(0,h.ZP)("/api/stats",ee,{refreshInterval:6e4});(0,g.useEffect)(()=>{console.log(I),(null==el?void 0:el.vehicles)&&(I&&ei(!1),ea(el.vehicles))},[el]),(0,g.useEffect)(()=>{m&&I&&ei(!1),w&&D&&m&&P((null==m?void 0:m.find(e=>e.trainNumber===(null==D?void 0:D.trainNumber)))||null)},[m]);let ec={type:"FeatureCollection",features:[]};function ed(e){console.log("SETTING VEHICLE:",e),P(e),console.log(D),console.log("Trying to select vehicle",e),console.log("SelectedVehicle",D),E(!0)}return null==m||m.forEach(e=>{e.latitude&&e.longitude&&ec.features.push({type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.longitude),parseFloat(e.latitude)]},properties:{...e,type:"vehicle"}})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(N.x,{richColors:!0}),(0,c.jsx)(U,{isOpen:R,onClose:()=>Z(!1),vehicles:m||[],onVehicleSelect:e=>{ed(e),null==Q||Q.flyTo({center:[parseFloat(e.longitude),parseFloat(e.latitude)],zoom:15,essential:!0}),Z(!1)}}),(0,c.jsx)("div",{style:{position:"absolute",top:"22px",left:"50%",transform:"translateX(-50%)",margin:"auto",zIndex:4,pointerEvents:"none",fontSize:"2rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.55rem"},children:[(0,c.jsx)("img",{src:"/emojis/train.png",alt:"\uD83D\uDE86",style:{height:"1em",verticalAlign:"middle"}}),(0,c.jsx)("img",{src:"/emojis/portugal.png",alt:"\uD83C\uDDF5\uD83C\uDDF9",style:{height:"1em",verticalAlign:"middle"}}),(0,c.jsx)("img",{src:"/emojis/map.png",alt:"\uD83D\uDDFA️",style:{height:"1em",verticalAlign:"middle"}}),(0,c.jsx)("img",{src:"/emojis/compass.png",alt:"\uD83E\uDDED",style:{height:"1em",verticalAlign:"middle"}})]})}),(0,c.jsxs)("div",{style:{position:"absolute",zIndex:1,left:0,top:0,display:"flex",flexDirection:"row",margin:"20px",gap:"1rem"},children:[(0,c.jsx)(M,{onClick:()=>{window.open("https://github.com/joaodcp/cp-rt-ui","_blank")},children:(0,c.jsx)(f.b,{size:26})}),(0,c.jsxs)(M,{onClick:()=>{n.changeLanguage("en"===n.language?"pt":"en")},style:{position:"relative"},children:[(0,c.jsx)(v.T,{size:26}),(0,c.jsx)("span",{style:{position:"absolute",bottom:2,right:4,fontSize:8,fontWeight:"bold",color:"white",textShadow:"0 0 2px rgba(0,0,0,0.7)",pointerEvents:"none"},children:n.language.toUpperCase()})]})]}),(0,c.jsx)(M,{style:{position:"absolute",zIndex:1,right:0,margin:"20px"},onClick:()=>{Z(!R)},children:(0,c.jsx)(y.Y,{size:26})}),(0,c.jsx)("div",{className:"loader-container",children:(0,c.jsx)(A,{fade:I?o.none:o.out,children:(0,c.jsx)(T,{style:{background:"#000"},children:(0,c.jsx)(k,{})})})}),(0,c.jsxs)(x,{id:"map",initialViewState:{latitude:39.514525450960036,longitude:-7.969213273122932,zoom:6.4444226078908144},interactiveLayerIds:["vehicle","stop"],onClick:e=>{var t,n,i,s,a;if(console.log("MapClickEvent",e),(null==e?void 0:null===(t=e.features)||void 0===t?void 0:t[0])&&(console.log(null==e?void 0:null===(n=e.features)||void 0===n?void 0:n[0].properties.type),console.log(null==e?void 0:null===(i=e.features)||void 0===i?void 0:i[0]),(null==e?void 0:null===(s=e.features)||void 0===s?void 0:s[0].properties.type)==="vehicle")){let t=null==e?void 0:null===(a=e.features)||void 0===a?void 0:a[0].properties;try{t.service&&(t.service=JSON.parse(t.service)),t.origin&&(t.origin=JSON.parse(t.origin)),t.destination&&(t.destination=JSON.parse(t.destination)),t.units&&(t.units=JSON.parse(t.units)),ed(t)}catch(e){console.log("Error parsing vehicle data",e)}}},onMouseEnter:V,onMouseLeave:q,onLoad:e=>{e.target.setPaintProperty("railway","line-color","#1c4122"),e.target.setPaintProperty("railway_minor","line-color","#112714"),e.target.setLayerZoomRange("railway",4,22),e.target.setLayerZoomRange("railway_minor",15,22)},cursor:z,children:[(0,c.jsx)(d.Hw,{id:"vehicles",type:"geojson",data:ec,attribution:"Informa\xe7\xe3o em tempo real proveniente de CP – Comboios de Portugal, E. P. E.",children:(0,c.jsx)(d.mh,{source:"vehicles",id:"vehicle",type:"circle",paint:{"circle-color":["case",["==",["get","status"],"CANCELLED"],"#D7263D",["==",["get","status"],"COMPLETED"],"#808080","#388344"],"circle-radius":5,"circle-stroke-width":2,"circle-stroke-color":"#ffffff"}})}),w&&D&&(0,c.jsxs)(d.GI,{longitude:parseFloat(D.longitude),latitude:parseFloat(D.latitude),anchor:"bottom",offset:20,onClose:()=>{E(!1),P(null)},children:[(0,c.jsxs)("div",{className:"flex items-start absolute top-[12.5px] left-[12.5px] justify-between w-[290px]",children:[(0,c.jsx)("h1",{style:{fontWeight:"900",fontSize:"1.1rem"},children:t("vehicle_popup.train",{trainNumber:null==D?void 0:D.trainNumber})}),(null==D?void 0:D.units)&&(null==D?void 0:D.units.length)>0&&(0,c.jsx)(S,{color:l.green,wrapping:!0,children:(0,c.jsxs)("div",{className:"flex items-center gap-1 pr-2 pl-2",children:[(0,c.jsx)($.Z,{size:15}),(0,c.jsx)("p",{children:null==D?void 0:D.units.map(e=>Y(e)).join(" + ")})]})})]}),0==D.delay&&(0,c.jsx)("p",{style:{position:"absolute",top:"30.5px",left:"12.5px",fontWeight:"700",fontSize:"0.8rem",color:"gray"},children:t("vehicle_popup.schedule_adherence.on_time")}),D.delay>0&&(0,c.jsx)("p",{style:{position:"absolute",top:"30.5px",left:"12.5px",fontWeight:"700",fontSize:"0.8rem",color:"gray"},children:t("vehicle_popup.schedule_adherence.late",{formattedDuration:X(D.delay,!0)})}),D.delay<0&&(0,c.jsx)("p",{style:{position:"absolute",top:"30.5px",left:"12.5px",fontWeight:"700",fontSize:"0.8rem",color:"gray"},children:t("vehicle_popup.schedule_adherence.early",{formattedDuration:X(Math.abs(D.delay),!0)})}),!!D.occupancy&&(0,c.jsxs)("p",{className:"font-bold ".concat(D.occupancy<65?"text-green-500":D.occupancy<85?"text-yellow-500":"text-red-500"),children:[D.occupancy<65?"Muitos lugares dispon\xedveis":D.occupancy<85?"Poucos lugares sentados":"Comboio cheio"," ","(",D.occupancy,"% ocupado)"]}),(0,c.jsxs)("div",{className:"flex items-center justify-evenly p-2",children:[D.service&&D.service.designation&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:(0,c.jsx)(S,{color:l.subtleGreen,children:(0,c.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.jsx)("p",{children:D.service.designation.replace("(Alta Qualidade)","")}),D.service.designation.endsWith("(Alta Qualidade)")&&(0,c.jsx)(j.J,{size:15,weight:"fill"})]})})}),(0,c.jsx)("div",{style:{height:"10px"}})]}),"speed"in D&&(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsxs)(S,{children:[(0,c.jsx)(_.a,{size:15}),(0,c.jsx)("div",{style:{width:"7px"}}),null==D?void 0:null===(e=D.speed)||void 0===e?void 0:e.toFixed(1),(0,c.jsx)("div",{style:{width:"7px"}}),(0,c.jsx)("p",{children:"km/h"})]})})]}),D.origin&&D.origin.designation&&D.destination&&D.destination.designation&&(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"10px"},children:[(0,c.jsx)("h1",{style:{fontWeight:"400",fontSize:"1rem"},children:D.origin.designation}),(0,c.jsx)(b.o,{size:15,weight:"bold"}),(0,c.jsx)("h1",{style:{fontWeight:"400",fontSize:"1rem"},children:D.destination.designation})]}),D.status===r.Completed&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsx)("p",{style:{color:"gray",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase"},children:t("vehicle_popup.status.completed")})})]}),D.status===r.NotStarted&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsx)("p",{style:{color:"gray",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase"},children:t("vehicle_popup.status.not_started")})})]}),(0,c.jsx)("div",{style:{height:"5px"}}),D.status===r.InTransit&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsx)("p",{style:{color:"gray",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase"},children:t("vehicle_popup.status.in_transit")})})]}),D.status===r.AtOrigin&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsxs)("p",{style:{color:"gray",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase"},children:[t("vehicle_popup.status.at_origin"),(()=>{var e,t;let n=null==eo?void 0:null===(t=eo.stations)||void 0===t?void 0:null===(e=t.find(e=>e.code===D.lastStation))||void 0===e?void 0:e.designation;return n?" (".concat(n,")"):""})()]})})]}),D.status===r.AtStation&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsxs)("p",{style:{color:"gray",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase"},children:[t("vehicle_popup.status.at_station"),(()=>{var e,t;let n=null==eo?void 0:null===(t=eo.stations)||void 0===t?void 0:null===(e=t.find(e=>e.code===D.lastStation))||void 0===e?void 0:e.designation;return n?" (".concat(n,")"):""})()]})})]}),D.status===r.NearNext&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsx)("p",{style:{color:"gray",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase",textAlign:"center"},children:t("vehicle_popup.status.near_next")})})]}),D.status===r.Cancelled&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{height:"5px"}}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsx)("p",{style:{color:"#d7263d",fontSize:"0.8rem",fontWeight:"700",textTransform:"uppercase"},children:t("vehicle_popup.status.cancelled")})})]}),(0,c.jsx)("div",{style:{height:"20px"}}),(0,c.jsxs)("div",{children:[D.timestamp&&D.timestamp&&(0,c.jsxs)("p",{style:{color:"gray",position:"absolute",bottom:"2px",left:"10px"},children:[t("vehicle_popup.status.updated_at"),":"," ",new Date(D.timestamp).toLocaleTimeString()]}),D.source&&(0,c.jsxs)("p",{style:{color:"gray",position:"absolute",bottom:"2px",right:"10px"},children:["via ",D.source]})]})]})]})]})}var en=(0,Q.default)(()=>Promise.resolve(et),{ssr:!1})},176:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var i=n(1505),s=n(2535),a=n(1397),l=JSON.parse('{"vehicle_popup":{"train":"Comboio {{trainNumber}}","schedule_adherence":{"early":"Adiantado {{formattedDuration}}","on_time":"A horas","late":"Atrasado {{formattedDuration}}"},"status":{"in_transit":"Em viagem","near_next":"A aproximar-se da pr\xf3xima esta\xe7\xe3o","at_station":"Na esta\xe7\xe3o","at_origin":"Na esta\xe7\xe3o inicial","not_started":"Viagem a iniciar","cancelled":"Suprimido","completed":"Viagem terminada"},"updated_at":"Atualizado \xe0s"},"search":{"field_placeholder":"Procurar comboio, linha ou esta\xe7\xe3o...","title":"Procurar Comboios","prompt":"Comece a escrever o n\xfamero do comboio, nome do servi\xe7o ou esta\xe7\xe3o para encontrar informa\xe7\xf5es em tempo real"},"time":{"hour":"hora","hours":"horas","minute":"minuto","minutes":"minutos","second":"segundo","seconds":"segundos","and":"e"}}'),o=JSON.parse('{"vehicle_popup":{"train":"Train {{trainNumber}}","schedule_adherence":{"early":"{{formattedDuration}} early","on_time":"On time","late":"{{formattedDuration}} late"},"status":{"in_transit":"In transit","near_next":"Near next station","at_station":"At station","at_origin":"At origin station","not_started":"Trip not started","cancelled":"Cancelled","completed":"Trip completed"},"updated_at":"Updated at"},"search":{"field_placeholder":"Search train, line, or station...","title":"Search Trains","prompt":"Start typing the train number, service name, or station to find real-time information"},"time":{"hour":"hour","hours":"hours","minute":"minute","minutes":"minutes","second":"second","seconds":"seconds","and":"and"}}');i.ZP.use(a.Z).use(s.Db).init({fallbackLng:"pt",supportedLngs:["en","pt"],debug:!1,interpolation:{escapeValue:!1},resources:{en:{translation:o},pt:{translation:l}}});var r=i.ZP},6286:function(e){e.exports={centered:"Centered_centered__XA8Wz"}},9840:function(e){e.exports={fadeIn:"FadeInOut_fadeIn__Iqs8o",fadeOut:"FadeInOut_fadeOut__SlEhA"}},3860:function(e){e.exports={bar:"Loader_bar__51nKS",capsule:"Loader_capsule__IaeNG",moveCapsule:"Loader_moveCapsule____fby"}},7712:function(e){e.exports={pill:"Pill_pill__cfmCg",wrappingPill:"Pill_wrappingPill__CBgqd",blue:"Pill_blue__Nzq_E",gray:"Pill_gray__sOKo1",purple:"Pill_purple__67_lq",yellow:"Pill_yellow__lXk4y",subtlePurple:"Pill_subtlePurple__CWgrZ",green:"Pill_green__V0BLw",subtleGreen:"Pill_subtleGreen__hOedC",red:"Pill_red__pt0q8"}},8071:function(e){e.exports={topBarButton:"TopBarButton_topBarButton__dJVuk"}},9583:function(e){e.exports={map:"WGLMap_map___ggt4"}}},function(e){e.O(0,[162,492,971,69,744],function(){return e(e.s=5580)}),_N_E=e.O()}]);